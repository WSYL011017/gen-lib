# Gen-Lib 快速开始指南

本指南将帮助你快速上手使用 Gen-Lib 通用依赖库。

## 📋 前置要求

- JDK 17+
- Maven 3.9+
- Spring Boot 3.2+

## 🚀 快速开始

### 1. 创建Spring Boot项目

使用Spring Initializr创建一个新的Spring Boot项目，或在现有项目中添加依赖。

### 2. 添加Gen-Lib依赖

在项目的 `pom.xml` 中添加依赖管理：

```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>com.genlib</groupId>
            <artifactId>gen-lib-bom</artifactId>
            <version>1.0.0</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
```

添加Spring Boot Starter依赖：

```xml
<dependency>
    <groupId>com.genlib</groupId>
    <artifactId>gen-lib-spring-boot-starter</artifactId>
</dependency>
```

### 3. 配置application.yml

```yaml
genlib:
  enabled: true
  cache:
    enabled: true
    type: caffeine
    default-expiration: 3600
  utils:
    enabled: true
  data:
    enabled: true
```

### 4. 创建实体类

```java
import com.genlib.core.model.BaseEntity;

@Entity
public class User extends BaseEntity {
    private String username;
    private String email;
    
    // getters and setters...
}
```

### 5. 创建控制器

```java
import com.genlib.core.model.Result;
import com.genlib.core.enums.ResultCodeEnum;

@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @GetMapping("/{id}")
    public Result<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        if (user != null) {
            return Result.success(user);
        } else {
            return Result.error(ResultCodeEnum.DATA_NOT_FOUND);
        }
    }
}
```

## 🎯 核心功能演示

### 统一响应格式

```java
// 成功响应
Result<User> success = Result.success("操作成功", user);

// 失败响应
Result<Void> error = Result.error("操作失败");

// 分页响应
PageResult<User> pageResult = PageResult.of(1, 10, 100, userList);
```

### 异常处理

```java
/*
import com.genlib.core.exception.BusinessException;

// 参数验证
BusinessException.assertNotNull(user, "用户不能为空");
BusinessException.assertTrue(age > 0, "年龄必须大于0");

// 抛出业务异常
throw new BusinessException(ResultCodeEnum.BUSINESS_ERROR, "业务处理失败");
*/
```

### 工具类使用

```java
import com.genlib.utils.text.StringUtils;
import com.genlib.utils.time.DateUtils;

// 字符串工具
String camelCase = StringUtils.toCamelCase("user_name", "_"); // "userName"
String masked = StringUtils.maskMobile("13812345678"); // "138****5678"

// 日期工具
String formatted = DateUtils.formatDateTime(LocalDateTime.now());
LocalDate firstDay = DateUtils.getFirstDayOfMonth(LocalDate.now());
```

### 缓存使用

```java
import com.genlib.cache.annotation.Cacheable;

@Service
public class UserService {
    
    @Cacheable(value = "userCache", key = "#id")
    public User findById(Long id) {
        return userRepository.findById(id);
    }
}
```

### 基础实体使用

```java
import com.genlib.core.model.AuditEntity;

public class Order extends AuditEntity {
    private String orderNo;
    private BigDecimal amount;
    
    public void create(Long userId, String userName) {
        this.onCreate(userId, userName);
        // 其他创建逻辑...
    }
}
```

## 🔧 高级配置

### 多数据源配置

```yaml
genlib:
  data:
    multi-datasource-enabled: true
    primary: master
    read-write-split-enabled: true
```

### 缓存详细配置

```yaml
genlib:
  cache:
    type: redis
    default-expiration: 3600
    max-size: 10000
    serializer-type: json
    eviction-policy: lru
    stats-enabled: true
    cache-names:
      - userCache
      - configCache
```

### 安全配置

```yaml
genlib:
  security:
    enabled: true
    jwt:
      secret: your-jwt-secret
      expiration: 86400
```

## 🏃‍♂️ 运行示例项目

1. 克隆项目代码
```bash
git clone https://github.com/your-org/gen-lib.git
cd gen-lib
```

2. 编译项目
```bash
mvn clean install
```

3. 运行示例项目
```bash
cd gen-lib-samples
mvn spring-boot:run
```

4. 访问示例接口
```bash
# 查询用户列表
curl http://localhost:8080/gen-lib-demo/api/users

# 查询单个用户
curl http://localhost:8080/gen-lib-demo/api/users/1

# 分页查询
curl "http://localhost:8080/gen-lib-demo/api/users/page?pageNum=1&pageSize=5"

# 工具类演示
curl http://localhost:8080/gen-lib-demo/api/users/demo/utils

# 异常处理演示
curl "http://localhost:8080/gen-lib-demo/api/users/demo/exception?type=business"
```

## 📖 更多文档

- [详细需求文档](需求文档.md)
- [框架设计文档](框架设计文档.md)
- [完整使用指南](README.md)
- [API参考文档](docs/api-reference.md)

## 🤝 社区支持

- 📧 邮件支持: gen-lib@example.com
- 🐛 问题反馈: [GitHub Issues](https://github.com/your-org/gen-lib/issues)
- 📚 文档中心: [https://gen-lib.gitee.io](https://gen-lib.gitee.io)

---

恭喜！你已经成功集成了Gen-Lib通用依赖库。现在可以享受**零侵入、高扩展、标准化**的开发体验了！ 🎉